;!function(){function e(n){var r=t[n];return"string"==typeof r&&Function("module","exports","require","eval("+JSON.stringify(r+"\n//@ sourceURL=/"+n)+")").call((t[n]=r={exports:{}}).exports,r,r.exports,e),r.exports}var t=['function Promise(){this._len=0}function run(e,t){try{e=e(t)}catch(n){return newRejected(n)}return e&&"function"==typeof e.then?e instanceof Promise?e:extract(e):newFulfilled(e)}function extract(e){var t=new Promise;return e.then(function(e){t.resolve(e)},function(e){t.reject(e)}),t}function thrower(e){throw e}function noop(){}function propagate(e,t,n){try{n=t(n)}catch(r){return e.reject(r)}n&&"function"==typeof n.then?n[n instanceof Promise?"end":"then"](function(t){e.resolve(t)},function(t){e.reject(t)}):e.resolve(n)}function newPending(e){var t=new Promise;return e&&e.call(t,t),t}function newRejected(e){var t=new Promise;return t.reason=e,t.state="rejected",t}function newFulfilled(e){var t=new Promise;return t.value=e,t.state="resolved",t}exports=module.exports=Promise;var proto=Promise.prototype;proto._len=0,proto.value=proto.reason=void 0,proto.state="pending",proto.then=function(e,t){switch(this.state){case"pending":var n=this[this._len++]=new Promise;return n._success=e,n._fail=t,n;case"resolved":return e?run(e,this.value):newFulfilled(this.value);case"rejected":return exports.onCatch&&exports.onCatch(this),t?run(t,this.reason):newRejected(this.reason)}},proto.stub=proto.throw=proto.end=function(e,t){switch(this.state){case"pending":this[this._len++]={resolve:e||noop,reject:t||thrower};break;case"resolved":e&&e(this.value);break;case"rejected":if(exports.onCatch&&exports.onCatch(this),!t)throw this.reason;t(this.reason)}return this},proto.fulfill=proto.resolve=function(e){if("pending"===this.state){this.value=e,this.state="resolved";for(var t,n=0;t=this[n++];)t._success?propagate(t,t._success,e):t.resolve(e)}return this},proto.break=proto.reject=function(e){if("pending"===this.state){this.state="rejected",this.reason=e;var t=0,n=this[t];if(n){do n._fail?propagate(n,n._fail,e):n.reject(e);while(n=this[++t])}else exports.onError&&exports.onError(this,e)}return this},proto.assign=function(e){return this[e instanceof Error?"reject":"resolve"](e)},proto.fail=function(e){return this.end(null,e)},proto.catch=proto.otherwise=function(e){return this.then(null,e)},proto.always=function(e){return this.then(e,e)},proto.finish=function(e){return this.end(e,e)},proto.node=function(e){return this.then(function(t){return e(null,t)},e)},proto.nend=function(e){return this.end(function(t){e(null,t)},e)},proto.cancel=function(){for(this.state="canceled";this._len--;)delete this[this._len];return this},proto.yeild=function(e){return this.then(function(){return e})},proto.wasBroken=function(){return"rejected"===this.state},proto.wasFulfilled=function(){return"resolved"===this.state},proto.wasCanceled=function(){return"canceled"===this.state},proto.isPending=function(){return"pending"===this.state},proto.proxy=function(){var e=this;return Object.create(null,{then:{value:function(t,n){return e.then(t,n)}}})},exports.pending=newPending,exports.broken=exports.rejected=newRejected,exports.resolved=exports.fulfilled=newFulfilled,exports.mixin=function(e){for(var t in proto)e[t]=proto[t];return e},exports.onError=function(e,t){e._throw=setTimeout(function(){if(t instanceof Error)throw t.message+=" (Rethrown from rejected promise)",t;console&&console.warn(t)},1e3)},exports.onCatch=function(e){clearTimeout(e._throw),delete e._throw};'];Promise=e(0)}()
